<!DOCTYPE html>
<!--<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 
    - primary meta tags
  -->
  <title>Music Player</title>
  <meta name="title" content="Music Player">
  <meta name="description" content="A web music player html template made by codewithsadee">

  <!-- 
    - favicon
  -->
  <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

  <!-- 
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet">

  <!-- 
    - material icon font
  -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,-25" />

  <!-- 
    - custom css link
  -->
  <style>/* Base styles */

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background-color: #111111;
      color: #333;
      line-height: 1.5;
    }
    
    /* Utility classes */
    
    .wrapper {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    /* Top bar styles */
    
    .top-bar {
      background-color: #6200ea;
      color: white;
      padding: 1rem;
    }
    
    .top-bar .logo {
      display: flex;
      align-items: center;
    }
    
    .top-bar .logo .material-symbols-rounded {
      font-size: 2rem;
      margin-right: 0.5rem;
    }
    
    .top-bar .top-bar-actions {
      display: flex;
    }
    
    .btn-icon {
      background: none;
      border: none;
      color: inherit;
      cursor: pointer;
      padding: 0.5rem;
      font-size: 1.5rem;
    }
    
    /* Main player styles */
    
    .player {
      background-color: rgb(36, 248, 12);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin: 2rem;
      border-radius: 8px;
      overflow: hidden;
    }
    
    .player .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }
    
    .music-banner {
      margin-bottom: 1rem;
    }
    
    .music-banner .img-cover {
      border-radius: 8px;
      width: 100%;
      height: auto;
    }
    
    .music-content {
      text-align: center;
    }
    
    .music-content .headline-sm {
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }
    
    .music-content .label-wrapper {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }
    
    .music-content .label-md {
      font-size: 1rem;
      color: #666;
    }
    
    .music-content .artist {
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    
    .seek-control {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .range-wrapper {
      position: relative;
      width: 100%;
    }
    
    .range {
      width: 100%;
      -webkit-appearance: none;
      height: 4px;
      background: #ddd;
      border-radius: 2px;
      outline: none;
      opacity: 0.7;
      transition: opacity 0.2s;
    }
    
    .range:hover {
      opacity: 1;
    }
    
    .range-fill {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background-color: #6200ea;
      border-radius: 2px;
      pointer-events: none;
    }
    
    .duration-label {
      display: flex;
      justify-content: space-between;
      margin-top: 0.5rem;
    }
    
    .volume {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .player-control {
      display: flex;
      gap: 1rem;
    }
    
    .player-control .btn-icon.toggle .active-icon {
      display: none;
    }
    
    .player-control .btn-icon.toggle.active .default-icon {
      display: none;
    }
    
    .player-control .btn-icon.toggle.active .active-icon {
      display: inline;
    }
    
    /* Playlist styles */
    
    .playlist {
      background-color: #fff;
      position: absolute;
      top: 0;
      right: -300px;
      width: 300px;
      height: 100%;
      box-shadow: -4px 0 8px rgba(0, 0, 0, 0.1);
      overflow-y: auto;
      transition: right 0.3s ease;
    }
    
    .playlist.active {
      right: 0;
    }
    
    .music-list {
      list-style: none;
      padding: 1rem;
    }
    
    .music-list li {
      display: flex;
      align-items: center;
      padding: 0.5rem }
      .img-cover{
        width: 200px;height: 200px;
      }
    </style>
</head>

<body>

  <!-- 
    - #TOP APP BAR
  -->

  <div class="top-bar wrapper">

    <div class="logo wrapper">
      <span class="material-symbols-rounded">graphic_eq</span>

      <h1 class="title-lg">Music Player</h1>
    </div>

    <div class="top-bar-actions">
      <button class="btn-icon" data-playlist-toggler>
        <span class="material-symbols-rounded">queue_music</span>
      </button>
    </div>

  </div>

  <main>
    <article>

      <!-- 
        - #PLAYER
      -->

      <div class="player">
        <div class="container">

          <figure class="music-banner">
            <img src="C:\Users\theravit denny\Desktop\IT project\Spoty\s.photo\u1.jpg"width="8px" height="8px" alt="Happy Moments (Master) Album Poster"
              class="img-cover" data-player-banner>
          </figure>

          <div class="music-content">

            <h2 class="headline-sm" data-title>Happy Moments (Master)</h2>

            <p class="label-lg label-wrapper wrapper">
              <span data-album>No Spirit</span>
              <span data-year>2022</span>
            </p>

            <p class="label-md artist" data-artist>No Spirit x Tonion</p>

            <div class="seek-control">

              <div>
                <div class="range-wrapper">
                  <input type="range" step="1" max="60" value="0" class="range" data-range data-seek>
                  <div class="range-fill" data-range-fill></div>
                </div>

                <div class="duration-label wrapper">
                  <span class="label-md" data-running-time>0:00</span>
                  <span class="label-md" data-duration>1:00</span>
                </div>
              </div>

              <div class="volume">
                <button class="btn-icon" data-volume-btn>
                  <span class="material-symbols-rounded">volume_up</span>
                </button>

                <div class="range-wrapper">
                  <input type="range" step="0.05" max="1" value="1" class="range" data-range data-volume>
                  <div class="range-fill" data-range-fill></div>
                </div>
              </div>

            </div>

            <div class="player-control wrapper">

              <button class="btn-icon toggle" data-repeat>
                <span class="material-symbols-rounded default-icon">repeat</span>
                <span class="material-symbols-rounded active-icon">repeat_one</span>
              </button>

              <button class="btn-icon" data-skip-prev>
                <span class="material-symbols-rounded">skip_previous</span>
              </button>

              <button class="btn-icon play" data-play-btn>
                <span class="material-symbols-rounded default-icon">play_arrow</span>
                <span class="material-symbols-rounded active-icon">pause</span>
              </button>

              <button class="btn-icon" data-skip-next>
                <span class="material-symbols-rounded">skip_next</span>
              </button>

              <button class="btn-icon toggle" data-shuffle>
                <span class="material-symbols-rounded">shuffle</span>
              </button>

            </div>

          </div>

        </div>
      </div>

      <!-- 
        - #PLAYLIST
      -->

      <div class="playlist" data-playlist>
        <ul class="music-list" data-music-list></ul>
      </div>

      <div class="overlay" data-playlist-toggler data-overlay></div>

    </article>
  </main>

  <!-- 
    - custom js link
  --><script>
    'use strict';

const musicData = [
  {
    backgroundImage: "url('s.photo/u1.jpg')",
    posterUrl: "s.photo/u1.jpg",
    title: "Happy Moments (Master)",
    album: "No Spirit",
    year: 2022,
    artist: "No Spirit x Tonion",
    musicPath: "songs/anirudh.mp3",
  },
  {
    backgroundImage: "url('s.photo/u1.jpg')",
    posterUrl: "s.photo/u1.jpg",
    title: "We Are Going To Be Ok (Master)",
    album: "No Spirit",
    year: 2022,
    artist: "No Spirit x Jhove",
    musicPath: "songs/anirudh.mp3",
  },
  {
    backgroundImage: "url('s.photo/u1.jpg')",
    posterUrl: "s.photo/u1.jpg",
    title: "Winter Meadow",
    album: "No Spirit",
    year: 2022,
    artist: "No Spirit x juniorodeo",
    musicPath: "songs/anirudh.mp3",
  },
  {
    backgroundImage: "url('s.photo/u1.jpg')",
    posterUrl: "s.photo/u1.jpg",
    title: "From Where We Started",
    album: "No Spirit",
    year: 2022,
    artist: "No Spirit",
    musicPath: "songs/anirudh.mp3",
  },
  {
    backgroundImage: "url('s.photo/u1.jpg')",
    posterUrl: "s.photo/u1.jpg",
    title: "Where I Found You",
    album: "No Spirit",
    year: 2022,
    artist: "No Spirit",
    musicPath: "songs/anirudh.mp3",
  },
];

console.log("playing")

const addEventOnElements = function (elements, eventType, callback) {
  for (let i = 0, len = elements.length; i < len; i++) {
    elements[i].addEventListener(eventType, callback);
  }
}

const playlist = document.querySelector("[data-music-list]");

for (let i = 0, len = musicData.length; i < len; i++) {
  playlist.innerHTML += `
    <li>
      <button class="music-item ${i === 0 ? "playing" : ""}" data-playlist-toggler data-playlist-item="${i}">
        <img src="${musicData[i].posterUrl}" width="200" height="200" alt="${musicData[i].title} Album Poster"
          class="img-cover">
        <div class="item-icon">
          <span class="material-symbols-rounded">equalizer</span>
        </div>
      </button>
    </li>
  `;
}

const playlistSideModal = document.querySelector("[data-playlist]");
const playlistTogglers = document.querySelectorAll("[data-playlist-toggler]");
const overlay = document.querySelector("[data-overlay]");

const togglePlaylist = function () {
  playlistSideModal.classList.toggle("active");
  overlay.classList.toggle("active");
  document.body.classList.toggle("modalActive");
}

addEventOnElements(playlistTogglers, "click", togglePlaylist);

const playlistItems = document.querySelectorAll("[data-playlist-item]");
let currentMusic = 0;
let lastPlayedMusic = 0;

const changePlaylistItem = function () {
  playlistItems[lastPlayedMusic].classList.remove("playing");
  playlistItems[currentMusic].classList.add("playing");
}

addEventOnElements(playlistItems, "click", function () {
  lastPlayedMusic = currentMusic;
  currentMusic = Number(this.dataset.playlistItem);
  changePlaylistItem();
});

const playerBanner = document.querySelector("[data-player-banner]");
const playerTitle = document.querySelector("[data-title]");
const playerAlbum = document.querySelector("[data-album]");
const playerYear = document.querySelector("[data-year]");
const playerArtist = document.querySelector("[data-artist]");

const audioSource = new Audio(musicData[currentMusic].musicPath);
const audioDuration = audioSource.duration;

playerBanner.src = musicData[currentMusic].posterUrl;
playerBanner.style.backgroundImage = musicData[currentMusic].backgroundImage;
playerTitle.textContent = musicData[currentMusic].title;
playerAlbum.textContent = musicData[currentMusic].album;
playerYear.textContent = musicData[currentMusic].year;
playerArtist.textContent = musicData[currentMusic].artist;

audioSource.addEventListener("loadedmetadata", function () {
  audioSource.currentTime = 0;
  document.querySelector("[data-duration]").textContent = formatTime(audioSource.duration);
});

const formatTime = function (time) {
  const minutes = Math.floor(time / 60);
  const seconds = Math.floor(time - minutes * 60);
  return `${minutes}:${seconds < 10 ? "0" + seconds : seconds}`;
}

const playButton = document.querySelector("[data-play-btn]");
const playIcon = playButton.querySelector(".material-symbols-rounded.default-icon");
const pauseIcon = playButton.querySelector(".material-symbols-rounded.active-icon");

playButton.addEventListener("click", function () {
  if (audioSource.paused) {
    audioSource.play();
    playIcon.classList.remove("active");
    pauseIcon.classList.add("active");
  } else {
    audioSource.pause();
    playIcon.classList.add("active");
    pauseIcon.classList.remove("active");
  }
});

const previousButton = document.querySelector("[data-skip-prev]");
const nextButton = document.querySelector("[data-skip-next]");

previousButton.addEventListener("click", function () {
  lastPlayedMusic = currentMusic;
  currentMusic = (currentMusic - 1 + musicData.length) % musicData.length;
  changePlaylistItem();
  loadMusic();
});

nextButton.addEventListener("click", function () {
  lastPlayedMusic = currentMusic;
  currentMusic = (currentMusic + 1) % musicData.length;
  changePlaylistItem();
  loadMusic();
});

const loadMusic = function () {
  audioSource.src = musicData[currentMusic].musicPath;
  playerBanner.src = musicData[currentMusic].posterUrl;
  playerBanner.style.backgroundImage = musicData[currentMusic].backgroundImage;
  playerTitle.textContent = musicData[currentMusic].title;
  playerAlbum.textContent = musicData[currentMusic].album;
  playerYear.textContent = musicData[currentMusic].year;
  playerArtist.textContent = musicData[currentMusic].artist;
  audioSource.load();
  audioSource.play();
}

audioSource.addEventListener("timeupdate", function () {
  document.querySelector("[data-running-time]").textContent = formatTime(audioSource.currentTime);
  const progress = (audioSource.currentTime / audioSource.duration) * 100;
  document.querySelector("[data-range-fill]").style.width = `${progress}%`;
  document.querySelector("[data-range]").value = progress;
});

document.querySelector("[data-range]").addEventListener("input", function () {
  const seekTime = (this.value / 100) * audioSource.duration;
  audioSource.currentTime = seekTime;
});

const volumeButton = document.querySelector("[data-volume-btn]");
const volumeRange = document.querySelector("[data-volume]");
const volumeIcon = volumeButton.querySelector(".material-symbols-rounded");

volumeButton.addEventListener("click", function () {
  if (audioSource.muted) {
    audioSource.muted = false;
    volumeIcon.textContent = "volume_up";
    volumeRange.value = audioSource.volume;
    document.querySelector("[data-range-fill]").style.width = `${audioSource.volume * 100}%`;
  } else {
    audioSource.muted = true;
    volumeIcon.textContent = "volume_off";
    document.querySelector("[data-range-fill]").style.width = "0%";
    volumeRange.value = 0;
  }
});

volumeRange.addEventListener("input", function () {
  audioSource.volume = this.value;
  document.querySelector("[data-range-fill]").style.width = `${this.value * 100}%`;
  if (this.value == 0) {
    volumeIcon.textContent = "volume_off";
  } else {
    volumeIcon.textContent = "volume_up";
  }
});
</script>

</body>

</html>
